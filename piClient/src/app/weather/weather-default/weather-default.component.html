<div class="d-flex align-self-stretch justify-content-center" style="height: calc(100% - 5px)">
  <div class="d-flex flex-column align-self-stretch justify-content-around align-items-center w-100" *ngIf="!weatherResponseLoading else loading">
    <div class="d-flex flex-row justify-content-around align-items-center w-100 flex-grow-1 pt-4">
      <div class="col-6 p-0 d-flex flex-column h-100 justify-content-center" style="margin-top: -5vw">
        <div class="d-flex flex-column justify-content-center" style="margin: -5vw">
          <img width="50%"
               height="auto"
               src='{{ "http://openweathermap.org/img/wn/" + weatherResponse.weather.icon + "@4x.png" }}'
               class="mx-auto"
               alt="weather icon"/>
        </div>

        <div class="d-flex flex-column justify-content-center">
          <p class="m-0 mx-auto display-5">{{weatherResponse.weather.description}}</p>
          <p class="m-0 mx-auto display-4">
            {{(weatherResponse.weather.tempMin - 273.15).toFixed(0).replace('-0', '0')}}° ~
            {{(weatherResponse.weather.tempMax - 273.15).toFixed(0).replace('-0', '0')}}°
          </p>
        </div>
      </div>
      <div class="col-6 p-0 d-flex flex-column p-0 h-100 justify-content-center">
        <p class="m-0 display-2" [style.fontSize]="cityNameFontSize">{{city}}</p>
        <p class="m-0 display-1">
          {{(weatherResponse.weather.temp - 273.15).toFixed(0).replace('-0', '0')}}℃
        </p>
      </div>
    </div>
    <div class="d-flex flex-row justify-content-around py-3 w-100 px-4">
      <div class="m-0 display-6 px-2">
        <p class="display-6 m-0"><i class="material-icons" style="font-size: 2.5vw">mood</i> Feels like:</p>
        <p class="display-5 m-0"><b>{{(weatherResponse.weather.feelsLike - 273.15).toFixed(0).replace('-0', '0')}}℃</b></p>
      </div>
      <div class="m-0 display-6 px-2">
        <p class="display-6 m-0"><i class="material-icons" style="font-size: 2.5vw">slow_motion_video</i> Pressure: </p>
        <p class="display-5 m-0"><b>{{(weatherResponse.weather.pressure).toFixed(0).replace('-0', '0')}} hPa</b></p>
      </div>
      <div class="m-0 display-6 px-2">
        <p class="display-6 m-0"><i class="material-icons" style="font-size: 2.5vw">opacity</i> Humidity: </p>
        <p class="display-5 m-0"><b>{{(weatherResponse.weather.humidity).toFixed(0).replace('-0', '0')}}%</b></p>
      </div>
      <div class="m-0 display-6 px-2">
        <p class="display-6 m-0"><i class="material-icons" style="font-size: 2.5vw">toys</i> Wind: </p>
        <p class="display-5 m-0"><b>{{(weatherResponse.weather.windSpeed).toFixed(0).replace('-0', '0')}} m/s,
          {{(weatherResponse.weather.windDeg).toFixed(0).replace('-0', '0')}}°</b></p>
      </div>
    </div>
  </div>
  <ng-template #loading>
    <div class="d-flex flex-column justify-content-center">
      <div class="spinner-grow text-light mx-auto" style="width: 3rem; height: 3rem;" role="status">
        <span class="sr-only">Loading...</span>
      </div>
      <div class="mx-auto" *ngIf="errorMessage !== undefined">{{errorMessage}}</div>
    </div>
  </ng-template>
</div>
